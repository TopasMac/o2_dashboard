{# templates/reports_v2/_base.html.twig #}
<!DOCTYPE html>
<html lang="{{ lang|default(meta.language|default(app.request.locale|default('en'))) }}">
<head>
  <meta charset="UTF-8">
  <title>{% block pdf_title %}Document{% endblock %}</title>

  {# Page margins: top handled by wkhtml header; keep sides/bottom here #}
  <style>
    @page {
      margin: 0 16pt 64pt 16pt; /* narrower side margins for full-width header alignment */
    }

    /* --------- Design tokens --------- */
    :root {
      --font-sans: Arial, "Helvetica Neue", Helvetica, sans-serif;
      --text: #111827;
      --muted: #6b7280;
      --brand: #1E7668;
      --border: #e5e7eb;

      --h1: 16pt;
      --h2: 12pt;
      --base: 10pt;
      --small: 9pt;
    }

    html, body {
      font-family: var(--font-sans);
      color: var(--text);
      font-size: var(--base);
      line-height: 1.35;
      margin: 0;
      padding: 0;
    }

    h1 { font-size: var(--h1); margin: 0 0 8pt 0; }
    h2 { font-size: var(--h2); margin: 12pt 0 6pt 0; color: var(--brand); }
    .muted { color: var(--muted); }
    .mb-2 { margin-bottom: 8pt; }
    .mb-3 { margin-bottom: 12pt; }

    /* --------- Body --------- */
    .pdf-body {
      margin: 0 auto;
      padding: 0 8pt;
      max-width: 97%;
    }

    /* --------- Footer --------- */
    .pdf-footer {
      position: fixed;
      left: 0; right: 0; bottom: 0;
      padding: 6pt 8pt 4pt 8pt;
      font-size: var(--small);
      color: var(--muted);
      background: #fff;
      box-sizing: border-box;
      border-top: 1px solid var(--border);
    }

    /* --------- Tables (wkhtml-safe) --------- */
    table { border-collapse: collapse; }
    .table { width: 100%; }
    .table.bordered thead th { border-bottom: 1px solid var(--border); }
    .table.bordered tbody td { border-bottom: 1px solid var(--border); }
    .table th, .table td { padding: 6pt 4pt; vertical-align: top; }
    .table th { text-align: left; }
    .num { text-align: right; white-space: nowrap; }

    /* Summary tables (label/value) */
    .summary-table { width: 100%; }
    .summary-table .label { width: 60%; color: var(--muted); }
    .summary-table .value { width: 40%; text-align: right; }
    .summary-table .value.num { font-variant-numeric: tabular-nums; }

    /* Boxed sections */
    .boxed-section {
      border: 1px solid var(--border);
      padding: 10pt;
      margin-bottom: 10pt;
      border-radius: 2pt;
    }

    /* Simple 2-col grid using tables for reliability */
    .grid-2 { width: 100%; }
    .grid-2 { border-collapse: collapse; table-layout: fixed; }
    .grid-2 .grid-2__col { width: 50%; vertical-align: top; }
    @media print {
      .grid-2 { display: table; }
      .grid-2__col { display: table-cell; }
    }

    /* --- Hard resets to avoid stray boxes (applies to header/footer too) --- */
    * { box-shadow: none !important; }
    img { border: 0; }
    hr { border: 0; height: 0; }
  </style>

  {% block pdf_head_extra %}{% endblock %}
</head>
<body>

  <main class="pdf-body">
    {% block pdf_content %}{% endblock %}
  </main>

  <footer class="pdf-footer">
    {% block pdf_footer %}
      {{ companyContacts|default(o2_company_contacts|default('Owners2 · owners2.com · hola@owners2.com · +52 1 984 xxx xxxx')) }}
    {% endblock %}
  </footer>

</body>
</html>
